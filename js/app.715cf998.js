(function(t){function e(e){for(var r,n,o=e[0],l=e[1],c=e[2],d=0,u=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&u.push(i[n][0]),i[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);m&&m(e);while(u.length)u.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],r=!0,n=1;n<a.length;n++){var o=a[n];0!==i[o]&&(r=!1)}r&&(s.splice(e--,1),t=l(l.s=a[0]))}return t}var r={},n={app:0},i={app:0},s=[];function o(t){return l.p+"js/"+({"about~dashboard~trending~video":"about~dashboard~trending~video","about~trending~video":"about~trending~video",about:"about","dashboard~video":"dashboard~video",video:"video",trending:"trending",dashboard:"dashboard",signin:"signin",signup:"signup"}[t]||t)+"."+{"about~dashboard~trending~video":"8f4b1cde","about~trending~video":"fe09169b",about:"cbd0a789","dashboard~video":"c1df8cc4",video:"4a28d28b",trending:"a1899ebb",dashboard:"3b905298",signin:"359a5d15",signup:"5a50710e"}[t]+".js"}function l(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.e=function(t){var e=[],a={"about~dashboard~trending~video":1,"about~trending~video":1,about:1,"dashboard~video":1,video:1,trending:1,dashboard:1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var r="css/"+({"about~dashboard~trending~video":"about~dashboard~trending~video","about~trending~video":"about~trending~video",about:"about","dashboard~video":"dashboard~video",video:"video",trending:"trending",dashboard:"dashboard",signin:"signin",signup:"signup"}[t]||t)+"."+{"about~dashboard~trending~video":"8689fec2","about~trending~video":"df9d9a7c",about:"0cc098d7","dashboard~video":"9754fb67",video:"be628355",trending:"dcbee27e",dashboard:"f997ce5a",signin:"31d6cfe0",signup:"31d6cfe0"}[t]+".css",i=l.p+r,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var c=s[o],d=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(d===r||d===i))return e()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){c=u[o],d=c.getAttribute("data-href");if(d===r||d===i)return e()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=e,m.onerror=function(e){var r=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=r,delete n[t],m.parentNode.removeChild(m),a(s)},m.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(m)})).then((function(){n[t]=0})));var r=i[t];if(0!==r)if(r)e.push(r[2]);else{var s=new Promise((function(e,a){r=i[t]=[e,a]}));e.push(r[2]=s);var c,d=document.createElement("script");d.charset="utf-8",d.timeout=120,l.nc&&d.setAttribute("nonce",l.nc),d.src=o(t);var u=new Error;c=function(e){d.onerror=d.onload=null,clearTimeout(m);var a=i[t];if(0!==a){if(a){var r=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",u.name="ChunkLoadError",u.type=r,u.request=n,a[1](u)}i[t]=void 0}};var m=setTimeout((function(){c({type:"timeout",target:d})}),12e4);d.onerror=d.onload=c,document.head.appendChild(d)}return Promise.all(e)},l.m=t,l.c=r,l.d=function(t,e,a){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)l.d(a,r,function(e){return t[e]}.bind(null,r));return a},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/r-hub/",l.oe=function(t){throw console.error(t),t};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],d=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var m=d;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0682":function(t,e,a){"use strict";a("42d1")},3678:function(t,e,a){"use strict";var r=a("3f4a");e["a"]={getAll:function(){return Object(r["a"])().get("categories")}}},"3f2e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",transition:"fab-transition","max-width":"1000"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("div",{staticClass:"d-flex justify-space-between mb-5",attrs:{id:"modal-header"}},[a("v-card-title",{staticClass:"py-3"},[t._v("Upload Video")]),a("div",{staticClass:"mt-3 mr-2"},[a("v-btn",{attrs:{text:""}},[t._v(" Upload With Classic ")]),a("v-btn",{attrs:{icon:"",text:""},on:{click:t.closeModal}},[a("v-icon",[t._v("mdi-close")])],1)],1)],1),t.uploaded?a("v-card-text",[a("h2",{staticClass:"mb-6"},[t._v("Details")]),a("v-row",[a("v-col",{attrs:{order:"last","order-sm":"last","order-md":"first","order-lg":"first","order-xl":"first",cols:"12",sm:"12",md:"8",lg:"8"}},[a("ValidationObserver",{ref:"form"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submit.apply(null,arguments)}}},[a("ValidationProvider",{attrs:{name:"Title",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{staticClass:"mb-3",attrs:{"error-messages":r,label:"Title (required)",filled:"",dense:"",counter:"100","max-length":"100"},model:{value:t.formData.title,callback:function(e){t.$set(t.formData,"title",e)},expression:"formData.title"}})]}}])}),a("ValidationProvider",{attrs:{name:"Description",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-textarea",{attrs:{filled:"","auto-grow":"","error-messages":r,label:"Description",placeholder:"Tell viewers about your video",rows:"5",counter:"5000","max-length":"5000","row-height":"20"},model:{value:t.formData.description,callback:function(e){t.$set(t.formData,"description",e)},expression:"formData.description"}})]}}])}),a("ValidationProvider",{attrs:{name:"Visibilty",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-select",{attrs:{items:t.visibilty,"error-messages":r,filled:"",label:"Visibilty"},model:{value:t.formData.visibilty,callback:function(e){t.$set(t.formData,"visibilty",e)},expression:"formData.visibilty"}})]}}])}),a("ValidationProvider",{attrs:{name:"Cateogry",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-select",{attrs:{items:t.categoriesTitles,"error-messages":r,filled:"",label:"Categories",loading:t.categoryLoading},model:{value:t.formData.category,callback:function(e){t.$set(t.formData,"category",e)},expression:"formData.category"}})]}}])}),a("div",{staticClass:"mt-6 d-flex justify-space-between"},[a("v-btn",{staticClass:"primary",attrs:{loading:t.submitLoading,type:"submit",depressed:""}},[t._v("Submit")])],1)],1)])],1),a("v-col",{staticClass:"text-center",attrs:{"order-sm":"1",cols:"12",sm:"12",md:"4",lg:"4"}},[a("v-btn",{attrs:{text:""},on:{click:t.toggleShow}},[t._v("Upload Thumbnails")]),a("my-upload",{attrs:{field:"thumbnail",method:"PUT",width:1280,height:720,url:t.url,headers:t.headers,"img-format":"jpg",langType:"en"},on:{"crop-success":t.cropSuccess},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),a("v-responsive",{staticClass:"mx-auto",attrs:{width:"330"}},[t.imgDataUrl?a("v-img",{attrs:{"max-width":"330",height:"350",src:t.imgDataUrl}}):a("div",{staticClass:"px-12",attrs:{id:"image-placeholder"}},[a("v-icon",[t._v("mdi-image-plus")])],1)],1),""==t.imgDataUrl?a("p",{staticClass:"red--text"},[t._v(" Please upload thumbnail ")]):t._e()],1)],1)],1):a("v-card-text",{staticClass:"d-flex flex-column align-center my-md-12 py-md-12 my-sm-8 py-sm-8 my-xs-0 py-xs-0 my-12 py-12"},[t.uploading?a("v-progress-circular",{attrs:{rotate:360,size:100,width:15,value:t.value,color:"teal"}},[t._v(" "+t._s(t.value)+" ")]):a("div",{staticClass:"text-center"},[a("div",[a("v-btn",{staticClass:"grey lighten-2 mb-4",staticStyle:{height:"104px",width:"104px"},attrs:{icon:""},on:{click:t.selectFile}},[a("v-icon",{staticClass:"grey--text text--darken-1",attrs:{"x-large":""}},[t._v("mdi-upload")])],1)],1),a("ValidationProvider",{ref:"provider",attrs:{rules:"required|size:50000",name:"file"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-file-input",{ref:"fileInput",attrs:{accept:"video/mp4",placeholder:"Pick an video","prepend-icon":"mdi-video","error-messages":r},on:{change:t.uploadVideo},model:{value:t.selectedFile,callback:function(e){t.selectedFile=e},expression:"selectedFile"}})]}}],null,!1,604243626)}),a("v-btn",{staticClass:"blue darken-3 flat white--text mt-4",attrs:{type:"submit",depressed:""},on:{click:function(e){return t.$refs.fileInput.$refs.input.click()}}},[t._v("Select File")])],1)],1),t.uploaded?t._e():a("v-card-actions",[a("p",{staticClass:"text-center grey--text caption px-12 px-xs-0"},[t._v(" By submitting your videos to YouTube, you acknowledge that you agree to YouTube's Terms of Service and Community Guidelines. Please be sure not to violate others' copyright or privacy rights. Learn more ")])])],1)],1)},n=[],i=a("1da1"),s=(a("96cf"),a("b0c0"),a("d3b7"),a("a4d3"),a("e01a"),a("99af"),a("7db0"),a("d81d"),a("0b4d")),o=a("7b4e"),l=a("3678"),c={name:"UploadModal",props:["openDialog"],data:function(){return{valid:!1,uploaded:!1,uploading:!1,submitLoading:!1,categoryLoading:!1,interval:{},value:0,show:!1,rules:[function(t){return!t||t.size>5e7||"Video size should be less than 50 MB!, ".concat(t.size)}],categoriesTitles:[],categories:[],visibilty:["Public","Private"],selectedFile:[],formData:{id:"",title:"",description:"",category:"",visibilty:""},imgDataUrl:"",url:"",headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}},computed:{dialog:function(){return this.openDialog}},methods:{uploadVideo:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,n,i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$refs.provider.validate(t);case 2:if(r=a.sent,n=r.valid,n){a.next=6;break}return a.abrupt("return");case 6:return e.uploading=!0,i=new FormData,i.append("video",e.selectedFile,e.selectedFile.name),a.next=11,o["a"].uploadVideo(i,{onUploadProgress:function(t){e.value=Math.round(t.loaded/t.total*100)}}).catch((function(t){console.log(t)})).finally((function(){e.uploaded=!0,e.uploading=!1}));case 11:if(s=a.sent,s){a.next=14;break}return a.abrupt("return");case 14:s=s.data.data,e.formData.id=s._id,e.formData.title=s.title,e.formData.description=s.description,e.formData.cateogry=s.cateogry,e.url="".concat("https://r-hub.herokuapp.com","/api/v1/videos/").concat(s._id,"/thumbnails");case 20:case"end":return a.stop()}}),a)})))()},submit:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.imgDataUrl){e.next=2;break}return e.abrupt("return");case 2:return t.submitLoading=!0,t.formData.category=t.categories.find((function(e){return e.title===t.formData.category}))._id,e.next=6,o["a"].updateVideo(t.formData.id,{title:t.formData.title,description:t.formData.description,categoryId:t.formData.category,status:t.formData.visibilty.toLowerCase()}).catch((function(t){console.log(t)})).finally((function(){t.submitLoading=!1,t.uploaded=!1}));case 6:if(a=e.sent,a){e.next=9;break}return e.abrupt("return");case 9:t.formData.visibilty="",t.imgDataUrl="",t.selectedFile=[],t.closeModal(),t.$router.push("/studio/videos?".concat(new Date));case 14:case"end":return e.stop()}}),e)})))()},getCategories:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.categoryLoading=!0,e.next=3,l["a"].getAll().catch((function(t){console.log(t)})).finally((function(){return t.categoryLoading=!1}));case 3:a=e.sent,t.categoriesTitles=a.data.data.map((function(t){return t.title})),t.categories=a.data.data;case 6:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("closeDialog")},selectFile:function(){this.$refs.fileInput.$refs.input.click()},toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){console.log("-------- crop success --------"),console.log(e),this.imgDataUrl=t}},components:{myUpload:s["a"]},mounted:function(){this.getCategories()}},d=c,u=(a("4d53"),a("2877")),m=a("6544"),v=a.n(m),p=a("8336"),f=a("b0af"),h=a("99d9"),g=a("62ad"),b=a("169a"),w=a("23a7"),y=a("132d"),_=a("adda"),x=a("490a"),k=a("6b53"),C=a("0fd9"),S=a("b974"),U=a("8654"),V=a("a844"),D=Object(u["a"])(d,r,n,!1,null,null,null);e["a"]=D.exports;v()(D,{VBtn:p["a"],VCard:f["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:g["a"],VDialog:b["a"],VFileInput:w["a"],VIcon:y["a"],VImg:_["a"],VProgressCircular:x["a"],VResponsive:k["a"],VRow:C["a"],VSelect:S["a"],VTextField:U["a"],VTextarea:V["a"]})},"3f4a":function(t,e,a){"use strict";a("d3b7");var r=a("bc3a"),n=a.n(r);e["a"]=function(){var t=n.a.create({baseURL:"".concat("https://r-hub.herokuapp.com","/api/v1")}),e=localStorage.getItem("token");return e&&(t.defaults.headers.common.Authorization="Bearer ".concat(e)),t.interceptors.response.use((function(t){return t}),(function(t){return 401===t.response.status&&(localStorage.removeItem("token"),localStorage.removeItem("user"),location.reload()),Promise.reject(t)})),t}},"42d1":function(t,e,a){},"4d53":function(t,e,a){"use strict";a("f529")},"56d7":function(t,e,a){"use strict";a.r(e);var r=a("5530"),n=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("router-view",{attrs:{name:"NavBar"}}),a("router-view",{attrs:{name:"StudioNavBar"}}),a("v-content",{class:{"content-bg":!["SignIn","SignUp","Dashboard","Video","Detail"].includes(this.$route.name)}},[a("router-view")],1)],1)},s=[],o={name:"App"},l=o,c=(a("5c0b"),a("2877")),d=a("6544"),u=a.n(d),m=a("7496"),v=a("a75b"),p=Object(c["a"])(l,i,s,!1,null,null,null),f=p.exports;u()(p,{VApp:m["a"],VContent:v["a"]});a("d3b7"),a("3ca3"),a("ddb0");var h=a("8c4f"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{id:"navbar"}},[a("v-app-bar",{staticClass:"white",attrs:{flat:"",app:"","clipped-left":""}},[a("v-app-bar-nav-icon",{on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-bold"},[a("router-link",{staticClass:"black--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/"}},[t._v("R.Hub")])],1),a("v-spacer"),a("v-text-field",{attrs:{flat:"","hide-details":"","append-icon":"mdi-magnify",placeholder:"Search",outlined:"",dense:""},on:{"click:append":t.search},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),a("v-menu",{attrs:{offsetY:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mr-7 ml-2",attrs:{icon:""}},Object.assign({},n,r)),[a("v-icon",{attrs:{size:"25"}},[t._v("mdi-wallet")])],1)]}}],null,!0)},[a("span",[t._v("You RBC Wallet")])])]}}])},[a("v-list",[a("v-list-item",{attrs:{router:"",to:"/studio"}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",[t._v("mdi-currency-inr")])],1),a("v-list-item-title",[t._v("Your Balance: "),a("strong",[t._v("3.1 RHC")])])],1)],1)],1),a("v-spacer"),a("v-menu",{attrs:{offsetY:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mr-7",attrs:{icon:""}},Object.assign({},n,r)),[a("v-icon",{attrs:{size:"25"}},[t._v("mdi-video-plus")])],1)]}}],null,!0)},[a("span",[t._v("Create a video and more")])])]}}])},[a("v-list",[a("v-list-item",{attrs:{router:"",to:"/studio"}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",[t._v("mdi-play-box-outline")])],1),a("v-list-item-title",[t._v("Upload video")])],1)],1)],1),t.$store.getters.isAuthenticated?a("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"white--text",attrs:{small:"",color:"red",depressed:"",fab:""}},r),["no-photo.jpg"!==t.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+t.currentUser.photoUrl,alt:t.currentUser.channelName+" avatar"}})]):[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.currentUser.channelName.split("")[0].toUpperCase())+" ")])]],2)]}}])},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",["no-photo.jpg"!==t.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+t.currentUser.photoUrl,alt:t.currentUser.channelName+" avatar"}})]):[a("v-avatar",{attrs:{color:"red"}},[a("span",{staticClass:"white--text headline "},[t._v(" "+t._s(t.currentUser.channelName.split("")[0].toUpperCase()))])])]],2),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-capitalize"},[t._v(t._s(t.currentUser.channelName))]),a("v-list-item-subtitle",[t._v(t._s(t.currentUser.email))])],1)],1)],1),a("v-divider"),a("v-list",[a("v-list-item",{attrs:{router:"",to:"/channels/"+t.$store.getters.currentUser._id}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-box")])],1),a("v-list-item-title",[t._v("Your channel")])],1),a("v-list-item",{attrs:{router:"",to:"/studio"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-youtube-studio")])],1),a("v-list-item-title",[t._v("R.Hub Studio")])],1),a("v-list-item",{on:{click:t.signOut}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-login-variant")])],1),a("v-list-item-title",[t._v("Sign out")])],1)],1)],1)],1):a("v-btn",{staticClass:"font-weight-bold",attrs:{tile:"",outlined:"",color:"blue",router:"",to:"/signin"}},[a("v-icon",{attrs:{left:"",size:"26"}},[t._v("mdi-account-circle")]),t._v(" Sign in ")],1)],1),a("v-navigation-drawer",{attrs:{app:"",clipped:"Watch"!==t.$route.name,temporary:"Watch"===t.$route.name,id:"nav"},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"v-navigation-drawer__content",attrs:{tag:"div"}},[a("v-list",{staticClass:"py-0",attrs:{dense:"",nav:"",tag:"div"}},[a("v-list-item",{class:{"hidden-lg-and-up":"Watch"!==t.$route.name}},[a("v-app-bar-nav-icon",{staticClass:"mr-5",on:{click:function(e){t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-bold"},[t._v("R.Hub")])],1),a("v-divider",{staticClass:"hidden-lg-and-up"}),t._l(t.items,(function(e){return a("div",{key:e.header},[e.header?a("v-subheader",{staticClass:"pl-3 py-4 subtitle-1 font-weight-bold text-uppercase"},[t._v(t._s(e.header))]):t._e(),t._l("Subscriptions"===e.header?t.items[2].pages.slice(0,t.channelLength):e.pages,(function(r,n){return a("v-list-item",{key:r.title,staticClass:"mb-0",attrs:{to:"Subscriptions"===e.header?"/channels/"+r.channelId._id:r.link,exact:"","active-class":"active-item"}},["Subscriptions"!==e.header?a("v-list-item-icon",[a("v-icon",[t._v(t._s(r.icon))])],1):a("v-list-item-avatar",{staticClass:"mr-5"},[t._v(" "+t._s(n)+" "),"no-photo.jpg"!==r.channelId.photoUrl&&r.channelId?a("v-avatar",[a("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+r.channelId.photoUrl,alt:r.channelId.channelName+" avatar"}})]):[a("v-avatar",{attrs:{color:"red"}},[a("span",{staticClass:"white--text headline "},[t._v(" "+t._s(r.channelId.channelName.split("")[0].toUpperCase()))])])]],2),a("v-list-item-content",[a("v-list-item-title",{staticClass:" font-weight-medium subtitle-2"},[t._v(t._s("Subscriptions"===e.header?r.channelId.channelName:r.title))])],1)],1)})),"Subscriptions"===e.header&&t.isAuthenticated&&t.items[2].length>0?a("v-btn",{staticClass:"text-none",attrs:{id:"showBtn",block:"",text:""},on:{click:t.moreChannels}},[a("v-icon",[t._v(t._s(3===t.channelLength?"mdi-chevron-down":"mdi-chevron-up"))]),t._v(" "+t._s(3===t.channelLength?"Show "+(t.items[2].pages.length-3)+" more ":"Show less"))],1):t._e(),!1!==e.header?a("v-divider",{staticClass:"mt-2 mb-2"}):t._e()],2)})),t._l(t.links,(function(e){return a("span",{key:e.text},["Terms"===e.text?a("span",{staticClass:"mb-2 d-block"}):t._e(),a("v-btn",{staticClass:"text-capitalize px-1",attrs:{href:"",router:"",to:e.link,text:"",small:""}},[t._v(t._s(e.text))])],1)}))],2)],1)])],1)},b=[],w=a("1da1"),y=(a("b0c0"),a("96cf"),a("2f62")),_=a("e7f4"),x=a("801c"),k={data:function(){return{drawer:!0,items:[{header:null,pages:[{title:"Home",link:"/",icon:"mdi-home"},{title:"Trending",link:"/trending",icon:"mdi-fire"},{title:"Subscriptions",link:"/subscriptions",icon:"mdi-youtube-subscription"}]},{header:null,pages:[{title:"History",link:"/history",icon:"mdi-history"},{title:"Liked videos",link:"/liked-videos",icon:"mdi-thumb-up"}]},{header:"Subscriptions",pages:[]},{header:"MORE FROM R.Hub",pages:[{title:"R.Hub Premium",link:"#vp",icon:"mdi-youtube"},{title:"Gaming",link:"#g",icon:"mdi-youtube-gaming"},{title:"Live",link:"#li",icon:"mdi-access-point"}]},{header:null,pages:[{title:"Setting",link:"#sg",icon:"mdi-cog"},{title:"Report history",link:"#rh",icon:"mdi-flag"},{title:"Help",link:"#hp",icon:"mdi-help-circle"},{title:"Send feedback",link:"#f",icon:"mdi-message-alert"}]}],links:[{text:"About",link:"#"},{text:"Press",link:"#"},{text:"Copyrignt",link:"#"},{text:"Contact us",link:"#"},{text:"Creators",link:"#"},{text:"Advertise",link:"#"},{text:"Developers",link:"#"},{text:"Terms",link:"#"},{text:"Privacy",link:"#"},{text:"Policy & Safety",link:"#"},{text:"Test new features",link:"#"}],channelLength:0,searchText:""}},computed:Object(r["a"])({},Object(y["b"])(["currentUser","getUrl","isAuthenticated"])),methods:{search:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.searchText){e.next=2;break}return e.abrupt("return");case 2:if(t.searchText!=t.$route.query["search-query"]){e.next=4;break}return e.abrupt("return");case 4:if(a={type:"search",searchText:t.searchText},!t.isAuthenticated){e.next=8;break}return e.next=8,x["a"].createHistory(a).catch((function(t){return console.log(t)}));case 8:t.$router.push({name:"Search",query:{"search-query":t.searchText}});case 9:case"end":return e.stop()}}),e)})))()},getSubscribedChannels:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_["a"].getSubscribedChannels(t.currentUser._id).catch((function(t){return console.log(t)}));case 2:a=e.sent,t.items[2].pages=a.data.data,t.channelLength=3;case 5:case"end":return e.stop()}}),e)})))()},moreChannels:function(){3===this.channelLength?this.channelLength=this.items[2].pages.length:this.channelLength=3},signOut:function(){this.$store.dispatch("signOut")}},beforeRouteEnter:function(t,e,a){a((function(e){""!==!t.query["search-query"]&&(e.searchText=t.query["search-query"])}))},mounted:function(){this.currentUser&&this.getSubscribedChannels(),this.drawer=!this.$vuetify.breakpoint.mdAndDown,this.drawer="Watch"!==this.$route.name&&this.drawer},created:function(){this.drawer="Watch"!==this.$route.name&&this.drawer,this.isAuthenticated||(this.items[2].header=!1,this.items[0].pages.pop())}},C=k,S=(a("ed6b"),a("40dc")),U=a("5bc1"),V=a("8212"),D=a("8336"),O=a("b0af"),P=a("ce7e"),j=a("132d"),I=a("8860"),T=a("da13"),N=a("8270"),A=a("5d23"),$=a("34c3"),L=a("e449"),B=a("f774"),R=a("2fa4"),E=a("e0c7"),q=a("8654"),F=a("2a7f"),M=a("3a2f"),z=Object(c["a"])(C,g,b,!1,null,null,null),H=z.exports;u()(z,{VAppBar:S["a"],VAppBarNavIcon:U["a"],VAvatar:V["a"],VBtn:D["a"],VCard:O["a"],VDivider:P["a"],VIcon:j["a"],VList:I["a"],VListItem:T["a"],VListItemAvatar:N["a"],VListItemContent:A["a"],VListItemIcon:$["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VMenu:L["a"],VNavigationDrawer:B["a"],VSpacer:R["a"],VSubheader:E["a"],VTextField:q["a"],VToolbarTitle:F["a"],VTooltip:M["a"]});var Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{attrs:{id:"studioBar"}},[a("v-app-bar",{staticClass:"white",attrs:{app:"","clipped-left":""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"font-weight-bold"},[a("router-link",{staticClass:"black--text",staticStyle:{"text-decoration":"none"},attrs:{to:"/studio"}},[t._v("Studio")])],1),a("v-spacer"),a("v-text-field",{staticClass:"hidden-sm-and-down",attrs:{flat:"","hide-details":"","append-icon":"mdi-magnify",placeholder:"Search",outlined:"",dense:""},on:{"click:append":t.search}}),a("v-spacer"),a("v-menu",{attrs:{offsetY:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-btn",t._g({staticClass:"mr-8 createVideoBtn",attrs:{outlined:""}},Object.assign({},n,r)),[a("v-icon",{staticClass:"red--text small",attrs:{size:"25"}},[t._v("mdi-video-plus")]),t._v(" Create")],1)]}}],null,!0)},[a("span",[t._v("Create a video and more")])])]}}])},[a("v-list",[a("v-list-item",{on:{click:t.modal}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",[t._v("mdi-play-box-outline")])],1),a("v-list-item-title",[t._v("Upload video")])],1)],1)],1),a("v-menu",{attrs:{"offset-y":"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({staticClass:"white--text",attrs:{small:"",color:"red",depressed:"",fab:""}},r),["no-photo.jpg"!==t.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+t.currentUser.photoUrl,alt:t.currentUser.channelName+" avatar"}})]):[a("span",{staticClass:"headline"},[t._v(" "+t._s(t.currentUser.channelName.split("")[0].toUpperCase())+" ")])]],2)]}}])},[a("v-card",[a("v-list",[a("v-list-item",[a("v-list-item-avatar",["no-photo.jpg"!==t.currentUser.photoUrl?a("v-avatar",[a("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+t.currentUser.photoUrl,alt:t.currentUser.channelName+" avatar"}})]):[a("v-avatar",{attrs:{color:"red"}},[a("span",{staticClass:"white--text headline "},[t._v(" "+t._s(t.currentUser.channelName.split("")[0].toUpperCase()))])])]],2),a("v-list-item-content",[a("v-list-item-title",{staticClass:"text-capitalize"},[t._v(t._s(t.currentUser.channelName))]),a("v-list-item-subtitle",[t._v(t._s(t.currentUser.email))])],1)],1)],1),a("v-divider"),a("v-list",[a("v-list-item",{attrs:{router:"",to:"/channels/"+t.$store.getters.currentUser._id}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-account-box")])],1),a("v-list-item-title",[t._v("Your channel")])],1),a("v-list-item",{attrs:{router:"",to:"/studio"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-youtube-studio")])],1),a("v-list-item-title",[t._v("R.Hub Studio")])],1),a("v-list-item",{attrs:{router:"",to:"/signin"}},[a("v-list-item-icon",[a("v-icon",[t._v("mdi-login-variant")])],1),a("v-list-item-title",[t._v("Sign out")])],1)],1)],1)],1)],1),a("v-navigation-drawer",{attrs:{clipped:"",app:"",id:"nav"},scopedSlots:t._u([{key:"append",fn:function(){return[a("div",{staticClass:"pa-2"},[a("v-divider"),a("v-list",t._l(t.items[1].pages,(function(e){return a("v-list-item",{key:e.title,staticClass:"mb-0",attrs:{link:"",to:""===e.link?"":e.link,exact:"","active-class":"active-item"},on:{click:function(a){return t.settingsMoal(e.title)}}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:" font-weight-medium subtitle-2"},[t._v(t._s(e.title))])],1)],1)})),1)],1)]},proxy:!0},{key:"prepend",fn:function(){return[a("div",{staticClass:"pa-2 text-center"},[a("v-list",{staticClass:"text-center"},[a("v-list-item",{staticClass:"px-2"},[a("v-btn",{staticClass:"white--text mx-auto",attrs:{height:"95",width:"95","x-large":"",color:"red",depressed:"",fab:"",to:"/channels/"+t.currentUser._id}},["no-photo.jpg"!==t.currentUser.photoUrl?a("v-avatar",{attrs:{height:"96",width:"96"}},[a("img",{attrs:{src:t.getUrl+"/uploads/avatars/"+t.currentUser.photoUrl,alt:t.currentUser.channelName+" avatar"}})]):a("span",{staticClass:"display-3"},[t._v(" "+t._s(t.currentUser.channelName.split("")[0].toUpperCase())+" ")])],1)],1),a("v-list-item",{attrs:{link:"",to:"/channels/"+t.currentUser._id}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"title"},[t._v(t._s(t.currentUser.channelName))]),a("v-list-item-subtitle",[t._v(t._s(t.currentUser.email))])],1)],1)],1)],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("div",{directives:[{name:"bar",rawName:"v-bar"}],staticClass:"v-navigation-drawer__content",attrs:{tag:"div"}},[a("v-list",{staticClass:"py-0",attrs:{tile:""}},t._l(t.items[0].pages,(function(e){return a("v-list-item",{key:e.title,staticClass:"mb-0",attrs:{href:"",tile:"",router:"",to:e.link,exact:"","active-class":"active-item"}},[a("v-list-item-icon",[a("v-icon",[t._v(t._s(e.icon))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:" font-weight-medium subtitle-2"},[t._v(t._s(e.title))])],1)],1)})),1)],1)]),a("upload-video-modal",{attrs:{"open-dialog":t.dialog},on:{closeDialog:function(e){t.dialog=!1}}}),a("settings-modal",{attrs:{"open-dialog":t.settingsDialog},on:{closeDialog:function(e){t.settingsDialog=!1}}})],1)},W=[],J=a("3f2e"),K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-dialog",{attrs:{persistent:"",transition:"fab-transition","max-width":"800",id:"settings"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",{attrs:{tile:""}},[a("div",{staticClass:"d-flex justify-space-between mb-5",attrs:{id:"modal-header"}},[a("v-card-title",{staticClass:"py-3"},[t._v("Settings")]),a("v-btn",{attrs:{icon:"",text:""},on:{click:t.closeModal}},[a("v-icon",[t._v("mdi-close")])],1)],1),a("v-card-text",[a("v-row",[a("v-col",{staticClass:"pt-0",attrs:{order:"last","order-sm":"last","order-md":"first","order-lg":"first","order-xl":"first",cols:"12",sm:"12",md:"8",lg:"8"}},[a("h3",{staticClass:"mb-6 mt-0 pt-0"},[t._v("Personal Information")]),a("ValidationObserver",{ref:"personalInfoForm",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit,n=e.reset;return[a("form",{on:{submit:function(e){return e.preventDefault(),r(t.submit)},reset:function(t){return t.preventDefault(),n.apply(null,arguments)}}},[a("ValidationProvider",{attrs:{name:"Channel Name",rules:"required|min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r,label:"Channel Name",filled:"",dense:""},model:{value:t.formData.channelName,callback:function(e){t.$set(t.formData,"channelName",e)},expression:"formData.channelName"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"email",rules:"required|email"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{attrs:{"error-messages":r,label:"Email",filled:"",dense:""},model:{value:t.formData.email,callback:function(e){t.$set(t.formData,"email",e)},expression:"formData.email"}})]}}],null,!0)}),a("v-btn",{staticClass:"primary ",attrs:{loading:t.loading.personalInfo,type:"submit",depressed:""}},[t._v("Submit")])],1)]}}])}),a("h3",{staticClass:"mb-6 mt-6"},[t._v("Change Password")]),a("ValidationObserver",{ref:"passwordForm",scopedSlots:t._u([{key:"default",fn:function(e){var r=e.handleSubmit,n=e.reset;return[a("form",{on:{submit:function(e){return e.preventDefault(),r(t.submitPassword)},reset:function(t){return t.preventDefault(),n.apply(null,arguments)}}},[a("ValidationProvider",{attrs:{name:"Current password",rules:"required|min:5"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.showCurrentPassword?"mdi-eye":"mdi-eye-off","error-messages":r,type:t.showCurrentPassword?"text":"password",name:"Current password",label:"Current Password",filled:"",dense:"",hint:"At least 5 characters"},on:{"click:append":function(e){t.showCurrentPassword=!t.showCurrentPassword}},model:{value:t.formData.currentPassword,callback:function(e){t.$set(t.formData,"currentPassword",e)},expression:"formData.currentPassword"}})]}}],null,!0)}),a("ValidationProvider",{attrs:{name:"New password",rules:"required|min:5"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[a("v-text-field",{staticClass:"input-group--focused",attrs:{"append-icon":t.showNewPassword?"mdi-eye":"mdi-eye-off","error-messages":r,type:t.showNewPassword?"text":"password",name:"New password",label:"New Password",filled:"",dense:"",hint:"At least 5 characters"},on:{"click:append":function(e){t.showNewPassword=!t.showNewPassword}},model:{value:t.formData.newPassword,callback:function(e){t.$set(t.formData,"newPassword",e)},expression:"formData.newPassword"}})]}}],null,!0)}),a("v-btn",{staticClass:"primary",attrs:{loading:t.loading.password,type:"submit",depressed:""}},[t._v("Submit")])],1)]}}])})],1),a("v-col",{staticClass:"text-center",attrs:{"order-sm":"1",cols:"12",sm:"12",md:"4",lg:"4"}},[a("v-btn",{attrs:{text:""},on:{click:t.toggleShow}},[t._v("Upload Avatar")]),a("my-upload",{attrs:{field:"avatar",method:"PUT",headers:t.headers,url:t.url,width:200,height:200,noRotate:!1,"img-format":"jpg",langType:"en"},on:{"crop-success":t.cropSuccess,"crop-upload-success":t.cropUploadSuccess,"crop-upload-fail":t.cropUploadFail},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),a("v-responsive",{staticClass:"mx-auto",staticStyle:{"border-radius":"50%"},attrs:{width:"230"}},["no-photo.jpg"==t.$store.getters.currentUser.photoUrl?a("div",{staticClass:"px-12",attrs:{id:"settings-image-placeholder"}},[a("v-icon",[t._v("mdi-image-plus")])],1):a("v-img",{attrs:{height:"220",src:t.imgDataUrl}})],1)],1)],1)],1)],1)],1)},G=[],Q=(a("99af"),a("7db0"),a("3f4a")),X={signIn:function(t){return Object(Q["a"])().post("auth/login",t)},signUp:function(t){return Object(Q["a"])().post("auth/register",t)},updateUserDetails:function(t){return Object(Q["a"])().put("auth/updatedetails",t)},uploadUserAvatar:function(t){return Object(Q["a"])().put("auth/avatar",t)},updatePassword:function(t){return Object(Q["a"])().put("auth/updatepassword",t)},me:function(t){return Object(Q["a"])().post("auth/me",{headers:{Authorization:"Bearer ".concat(t)}})}},Z=a("0b4d"),tt={name:"SettingsModal",props:["openDialog"],data:function(){return{showCurrentPassword:!1,showNewPassword:!1,valid:!1,interval:{},value:0,show:!1,rules:[function(t){return!t||t.size<5e7||"Video size should be less than 50 MB!"}],categories:["People","Technology","Fashion"],visibilty:["Public","Private"],formData:{channelName:this.$store.getters.currentUser.channelName,email:this.$store.getters.currentUser.email,currentPassword:"",newPassword:""},loading:{personalInfo:!1,password:!1},imgDataUrl:"".concat("https://r-hub.herokuapp.com","/uploads/avatars/").concat(this.$store.getters.currentUser.photoUrl),url:"".concat("https://r-hub.herokuapp.com","/api/v1/auth/avatar"),headers:{Authorization:"Bearer ".concat(this.$store.getters.getToken)}}},computed:{dialog:function(){return this.openDialog}},methods:{submit:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading.personalInfo){e.next=2;break}return e.abrupt("return");case 2:return t.loading.personalInfo=!0,e.next=5,X.updateUserDetails({channelName:t.formData.channelName,email:t.formData.email}).catch((function(e){t.loading.personalInfo=!1;var a=e.response.data.error;t.$refs.personalInfoForm.setErrors({email:a.find((function(t){return"email"===t.field}))?["This email is already taken"]:null,"Channel Name":a.find((function(t){return"channelName"===t.field}))?["This channel name is already taken"]:null})})).finally((function(){return t.loading.personalInfo=!1}));case 5:if(a=e.sent,a){e.next=8;break}return e.abrupt("return");case 8:t.formData.channelName===t.$store.getters.currentUser.channelName&&t.formData.email===t.$store.getters.currentUser.email||(t.$store.dispatch("signOut"),t.$router.push("/signin")),t.closeModal();case 10:case"end":return e.stop()}}),e)})))()},submitPassword:function(){var t=this;return Object(w["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.loading.password){e.next=2;break}return e.abrupt("return");case 2:return t.loading.password=!0,e.next=5,X.updatePassword({currentPassword:t.formData.currentPassword,newPassword:t.formData.newPassword}).catch((function(e){t.loading.password=!1;var a=e.response.data.error;t.$refs.passwordForm.setErrors({"Current password":a.find((function(t){return"currentPassword"===t.field}))?["Current password is incorrect"]:null,"New password":a.find((function(t){return"newPassword"===t.field}))?a.find((function(t){return"newPassword"===t.field})).message:null})})).finally((function(){return t.loading.password=!1}));case 5:if(a=e.sent,a){e.next=8;break}return e.abrupt("return");case 8:t.formData.currentPassword="",t.formData.newPassword="",t.closeModal(),t.$store.dispatch("signOut"),t.$router.push("/signin");case 13:case"end":return e.stop()}}),e)})))()},closeModal:function(){this.$emit("closeDialog")},toggleShow:function(){this.show=!this.show},cropSuccess:function(t,e){console.log(e),this.imgDataUrl=t},cropUploadSuccess:function(t,e){var a=this.$store.getters.currentUser;a.photoUrl=t.data,this.$store.dispatch("signin",a),console.log("field: "+e)},cropUploadFail:function(t,e){console.log("-------- upload fail --------"),console.log(t),console.log("field: "+e)}},components:{myUpload:Z["a"]}},et=tt,at=(a("ff64"),a("99d9")),rt=a("62ad"),nt=a("169a"),it=a("adda"),st=a("6b53"),ot=a("0fd9"),lt=Object(c["a"])(et,K,G,!1,null,null,null),ct=lt.exports;u()(lt,{VBtn:D["a"],VCard:O["a"],VCardText:at["c"],VCardTitle:at["d"],VCol:rt["a"],VDialog:nt["a"],VIcon:j["a"],VImg:it["a"],VResponsive:st["a"],VRow:ot["a"],VTextField:q["a"]});var dt={name:"StudioNavBar",data:function(){return{drawer:!1,items:[{header:"scroll",pages:[{title:"Dashboard",link:"/studio",icon:"mdi-view-dashboard"},{title:"Videos",link:"/studio/videos",icon:"mdi-play-box-multiple"}]},{header:"fixed",pages:[{title:"Settings",link:"",icon:"mdi-cog"},{title:"Send feedback",link:"#sf",icon:"mdi-history"},{title:"Creator Studio Classic",link:"#cs",icon:"mdi-play-box-outline"}]}],dialog:!1,settingsDialog:!1}},computed:Object(r["a"])({},Object(y["b"])(["currentUser","getUrl"])),methods:{search:function(){console.log("hello")},modal:function(){this.dialog=!0},settingsMoal:function(t){"Settings"===t&&(this.settingsDialog=!0)}},components:{UploadVideoModal:J["a"],SettingsModal:ct},mounted:function(){this.drawer=!this.$vuetify.breakpoint.mdAndDown}},ut=dt,mt=(a("0682"),Object(c["a"])(ut,Y,W,!1,null,null,null)),vt=mt.exports;u()(mt,{VAppBar:S["a"],VAppBarNavIcon:U["a"],VAvatar:V["a"],VBtn:D["a"],VCard:O["a"],VDivider:P["a"],VIcon:j["a"],VList:I["a"],VListItem:T["a"],VListItemAvatar:N["a"],VListItemContent:A["a"],VListItemIcon:$["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VMenu:L["a"],VNavigationDrawer:B["a"],VSpacer:R["a"],VTextField:q["a"],VToolbarTitle:F["a"],VTooltip:M["a"]}),n["a"].use(h["a"]);var pt=[{path:"/",name:"Home",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("about")]).then(a.bind(null,"bb51"))}}},{path:"/subscriptions",name:"Subscription",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("about")]).then(a.bind(null,"d7e2"))}},meta:{requiresAuth:!0}},{path:"/liked-videos",name:"LikedVideos",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("about")]).then(a.bind(null,"07db"))}},meta:{requiresAuth:!0}},{path:"/signin",name:"SignIn",component:function(){return a.e("signin").then(a.bind(null,"afb1"))},meta:{requiresVisitor:!0}},{path:"/signup",name:"SignUp",component:function(){return a.e("signup").then(a.bind(null,"0687"))},meta:{requiresVisitor:!0}},{path:"/trending",name:"Trending",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("trending")]).then(a.bind(null,"27ac"))}}},{path:"/studio",components:{StudioNavBar:vt,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"81ec"))}},children:[{path:"/",name:"Dashboard",component:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"6954"))}},{path:"videos",name:"Video",component:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("dashboard~video"),a.e("video")]).then(a.bind(null,"e63d"))}},{path:"details/:id",name:"Detail",component:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("dashboard~video"),a.e("video")]).then(a.bind(null,"16fc"))}}],meta:{requiresAuth:!0}},{path:"/channels/:id",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"149a"))}},children:[{path:"/",name:"ChannelHome",component:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("dashboard~video"),a.e("dashboard")]).then(a.bind(null,"71a8"))}}]},{path:"/watch/:id",name:"Watch",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("dashboard~video"),a.e("video")]).then(a.bind(null,"4eb8"))}}},{path:"/history",name:"History",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("dashboard~video"),a.e("video")]).then(a.bind(null,"e4bb"))}},meta:{requiresAuth:!0}},{path:"/search",name:"Search",components:{NavBar:H,default:function(){return Promise.all([a.e("about~dashboard~trending~video"),a.e("about~trending~video"),a.e("dashboard~video"),a.e("video")]).then(a.bind(null,"2d3b"))}}}],ft=new h["a"]({mode:"history",base:"/r-hub/",routes:pt});ft.beforeEach((function(t,e,a){var r=localStorage.getItem("user");t.matched.some((function(t){return t.meta.requiresAuth}))&&!r||t.matched.some((function(t){return t.meta.requiresVisitor}))&&r?a("/"):a()}));var ht=ft,gt={url:"https://r-hub.herokuapp.com",token:localStorage.getItem("token")||null,user:JSON.parse(localStorage.getItem("user"))||null,isUserLoggedIn:localStorage.getItem("token")||!1},bt={getUrl:function(t){return t.url},isAuthenticated:function(t){return t.isUserLoggedIn},getToken:function(t){return t.token},currentUser:function(t){return t.user}},wt={SET_TOKEN:function(t,e){t.token=e,t.isUserLoggedIn=!!e},SET_USER_DATA:function(t,e){t.user=e},CLEAR_AUTH:function(t){t.token=null,t.user=null,t.isUserLoggedIn=!1}},yt={signUp:function(t,e){var a=t.commit;return new Promise((function(t,r){X.signUp(e).then((function(e){var r=e.data;a("SET_TOKEN",r.token),localStorage.setItem("token",r.token),t(r)})).catch((function(t){return r(t)}))}))},signIn:function(t,e){var a=t.commit;return new Promise((function(t,r){X.signIn(e).then((function(e){var r=e.data;localStorage.setItem("token",r.token),a("SET_TOKEN",r.token),t(r)})).catch((function(t){return r(t)}))}))},getCurrentUser:function(t,e){var a=t.commit;return new Promise((function(t,r){X.me(e).then((function(e){var r=e.data;localStorage.setItem("user",JSON.stringify(r.data)),a("SET_USER_DATA",r.data),t(r)})).catch((function(t){return r(t)}))}))},signOut:function(t){var e=t.commit;localStorage.removeItem("token"),localStorage.removeItem("user"),e("CLEAR_AUTH")}},_t={state:gt,getters:bt,mutations:wt,actions:yt},xt=a("e5f0");n["a"].use(y["a"]);var kt={state:{comments:[]},getters:{getComments:function(t){return t.comments}},mutations:{setComments:function(t,e){t.comments=e},addComment:function(t,e){t.comments.data.unshift(e)}},actions:{setComments:function(t,e){var a=t.commit;return new Promise((function(t,r){xt["a"].getCommentByVideoId(e).then((function(e){a("setComments",e.data),t(e)})).catch((function(t){return r(t)}))}))},addComment:function(t,e){var a=t.commit;a("addComment",e)}}};n["a"].use(y["a"]);var Ct=new y["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{auth:_t,comments:kt}}),St=a("f309");n["a"].use(St["a"]);var Ut=new St["a"]({}),Vt=a("4c93"),Dt=a("7bb1"),Ot=a("ae1a"),Pt=a.n(Ot);Object(Dt["d"])("eager"),Object(Dt["c"])("required",Object(r["a"])(Object(r["a"])({},Vt["e"]),{},{message:"Enter {_field_}"})),Object(Dt["c"])("oneOf",Object(r["a"])({},Vt["d"])),Object(Dt["c"])("max",Object(r["a"])(Object(r["a"])({},Vt["b"]),{},{message:"{_field_} may not be greater than {length} characters"})),Object(Dt["c"])("min",Object(r["a"])(Object(r["a"])({},Vt["c"]),{},{message:"{_field_} may not be less than {length} characters"})),Object(Dt["c"])("email",Object(r["a"])(Object(r["a"])({},Vt["a"]),{},{message:"Email must be valid"})),Object(Dt["c"])("password",{params:["target"],validate:function(t,e){var a=e.target;return t===a},message:"Password does not match"}),Object(Dt["c"])("size",Object(r["a"])(Object(r["a"])({},Vt["f"]),{},{message:"video size should be less than 50 MB!"})),n["a"].config.productionTip=!1,n["a"].component("ValidationProvider",Dt["b"]),n["a"].component("ValidationObserver",Dt["a"]),n["a"].use(Pt.a),new n["a"]({router:ht,store:Ct,vuetify:Ut,render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"613c":function(t,e,a){},"7b4e":function(t,e,a){"use strict";var r=a("3f4a");e["a"]={getAll:function(t,e){return Object(r["a"])().get("videos/".concat(t),{params:e})},getById:function(t){return Object(r["a"])().get("videos/".concat(t))},uploadVideo:function(t,e){return Object(r["a"])().post("videos",t,e)},updateVideo:function(t,e){return Object(r["a"])().put("videos/".concat(t),e)},updateViews:function(t){return Object(r["a"])().put("videos/".concat(t,"/views"))},uploadThumbnail:function(t,e){return Object(r["a"])().put("videos/".concat(t,"/thumbnails"),e)},deleteById:function(t){return Object(r["a"])().delete("videos/".concat(t))}}},"801c":function(t,e,a){"use strict";var r=a("3f4a");e["a"]={getAll:function(t){return Object(r["a"])().get("histories",{params:t})},createHistory:function(t){return Object(r["a"])().post("histories",t)},deleteById:function(t){return Object(r["a"])().delete("histories/".concat(t))},deleteAll:function(t){return Object(r["a"])().delete("histories/".concat(t,"/all"))}}},"9c0c":function(t,e,a){},d5a8:function(t,e,a){},e5f0:function(t,e,a){"use strict";var r=a("3f4a");e["a"]={getCommentByVideoId:function(t){return Object(r["a"])().get("comments/".concat(t,"/videos"))},createComment:function(t){return Object(r["a"])().post("comments",t)},deleteById:function(t){return Object(r["a"])().delete("comments/".concat(t))}}},e7f4:function(t,e,a){"use strict";var r=a("3f4a");e["a"]={getSubscribedChannels:function(t){return Object(r["a"])().get("subscriptions/channels",{params:{subscriberId:t,select:"channelId"}})},getSubscribers:function(t){return Object(r["a"])().get("subscriptions/subscribers",{params:{limit:t}})},checkSubscription:function(t){return Object(r["a"])().post("subscriptions/check",t)},createSubscription:function(t){return Object(r["a"])().post("subscriptions",t)},getSubscribedVideos:function(t){return Object(r["a"])().get("subscriptions/videos",{params:{page:t,limit:12}})}}},ed6b:function(t,e,a){"use strict";a("d5a8")},f529:function(t,e,a){},ff64:function(t,e,a){"use strict";a("613c")}});
//# sourceMappingURL=app.715cf998.js.map