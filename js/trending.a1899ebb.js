(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["trending"],{"199d":function(t,e,a){"use strict";a("e94e")},"27ac":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pt-7 px-sm-10",attrs:{id:"trending"}},[a("v-container",{attrs:{fluid:""}},[a("v-row",[t._l(t.loading?12:t.videos,(function(e,n){return a("v-col",{key:n,staticClass:"mx-lg-0 mx-md-0 mx-sm-auto mx-auto",attrs:{cols:"8",sm:"7",md:"10",lg:"10"}},[a("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"list-item-avatar-three-line",loading:t.loading,tile:"",large:""}},[a("v-card",{staticClass:"card",attrs:{tile:"",flat:"",to:"/watch/"+e._id}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"mx-auto",attrs:{cols:"12",sm:"8",md:"5",lg:"4"}},[a("v-img",{staticClass:"align-center",attrs:{"max-height":"200",src:t.getUrl+"/api/v1/uploads/thumbnail/"+e.thumbnail}})],1),a("v-col",{staticClass:"hidden-sm-and-down"},[a("div",{staticClass:"ml-4 "},[a("v-card-title",{staticClass:"pl-2 pt-0 subtitle-1 font-weight-bold"},[t._v(" "+t._s(e.title)+" ")]),e.userId?a("v-card-subtitle",{staticClass:"pl-2 pb-0"},[t._v(" "+t._s(e.userId.channelName)+" "),a("v-icon",[t._v("mdi-circle-small")]),t._v(t._s(e.views)+" views"),a("v-icon",[t._v("mdi-circle-small")]),t._v(t._s(t.dateFormatter(e.createdAt))+" ")],1):t._e(),a("v-card-subtitle",{staticClass:"pl-2 pt-0"},[t._v(" "+t._s(t.truncateText(e.description,200))+" ")])],1)])],1)],1)],1)],1)})),0!==t.videos.length||t.loading?t._e():a("v-col",{staticClass:"text-center"},[a("p",[t._v("No trending videos yet")])]),a("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[a("infinite-loading",{on:{infinite:t.getVideos},scopedSlots:t._u([{key:"error",fn:function(e){var n=e.trigger;return a("div",{},[a("v-alert",{attrs:{prominent:"",type:"error"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{staticClass:"grow"},[a("div",{staticClass:"title"},[t._v("Error!")]),a("div",[t._v(" Something went wrong, but don’t fret — let’s give it another shot. ")])]),a("v-col",{staticClass:"shrink"},[a("v-btn",{on:{click:n}},[t._v("Take action")])],1)],1)],1)],1)}}])},[a("div",{attrs:{slot:"spinner"},slot:"spinner"},[a("v-progress-circular",{attrs:{indeterminate:"",color:"red"}})],1),a("div",{attrs:{slot:"no-results"},slot:"no-results"}),a("span",{attrs:{slot:"no-more"},slot:"no-more"})])],1)],2)],1)],1)},r=[],s=a("2909"),i=a("1da1"),o=a("5530"),l=(a("96cf"),a("d3b7"),a("fb6a"),a("e166")),c=a.n(l),d=a("c1df"),u=a.n(d),v=a("2f62"),g=a("7b4e"),m={name:"Trending",data:function(){return{loading:!1,loaded:!1,errored:!1,videos:[],page:1}},computed:Object(o["a"])({},Object(v["b"])(["currentUser","getUrl","isAuthenticated"])),methods:{getVideos:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.loaded||(e.loading=!0),a.next=3,g["a"].getAll("public",{page:e.page,sort:"-views"}).catch((function(t){console.log(t),e.errored=!0})).finally((function(){e.loading=!1}));case 3:if(n=a.sent,"undefined"!==typeof n){a.next=6;break}return a.abrupt("return");case 6:n.data.data.length?(e.page+=1,(r=e.videos).push.apply(r,Object(s["a"])(n.data.data)),t.loaded(),e.loaded=!0):t.complete();case 7:case"end":return a.stop()}}),a)})))()},truncateText:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return t.length<=e?t:t.slice(0,e)},dateFormatter:function(t){return u()(t).fromNow()}},components:{InfiniteLoading:c.a}},p=m,f=(a("199d"),a("2877")),h=a("6544"),b=a.n(h),w=a("0798"),_=a("8336"),C=a("b0af"),x=a("99d9"),V=a("62ad"),k=a("a523"),y=a("132d"),j=a("adda"),I=a("490a"),O=a("0fd9"),T=a("3129"),A=Object(f["a"])(p,n,r,!1,null,null,null);e["default"]=A.exports;b()(A,{VAlert:w["a"],VBtn:_["a"],VCard:C["a"],VCardSubtitle:x["b"],VCardTitle:x["d"],VCol:V["a"],VContainer:k["a"],VIcon:y["a"],VImg:j["a"],VProgressCircular:I["a"],VRow:O["a"],VSkeletonLoader:T["a"]})},e94e:function(t,e,a){}}]);
//# sourceMappingURL=trending.a1899ebb.js.map