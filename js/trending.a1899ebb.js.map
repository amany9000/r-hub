{"version":3,"sources":["webpack:///./src/views/Trending.vue?1166","webpack:///./src/views/Trending.vue?b9e6","webpack:///src/views/Trending.vue","webpack:///./src/views/Trending.vue?4420","webpack:///./src/views/Trending.vue?e578"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_l","loading","videos","video","i","key","getUrl","_v","_s","title","userId","channelName","views","dateFormatter","createdAt","_e","truncateText","description","length","on","getVideos","scopedSlots","_u","fn","ref","trigger","slot","staticRenderFns","name","data","computed","methods","string","num","slice","components","InfiniteLoading","component","VAlert","VBtn","VCard","VCardSubtitle","VCardTitle","VCol","VContainer","VIcon","VImg","VProgressCircular","VRow","VSkeletonLoader"],"mappings":"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","file":"js/trending.a1899ebb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trending.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pt-7 px-sm-10\",attrs:{\"id\":\"trending\"}},[_c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_vm._l((_vm.loading ? 12 : _vm.videos),function(video,i){return _c('v-col',{key:i,staticClass:\"mx-lg-0 mx-md-0 mx-sm-auto mx-auto\",attrs:{\"cols\":\"8\",\"sm\":\"7\",\"md\":\"10\",\"lg\":\"10\"}},[_c('v-skeleton-loader',{staticClass:\"mx-auto\",attrs:{\"type\":\"list-item-avatar-three-line\",\"loading\":_vm.loading,\"tile\":\"\",\"large\":\"\"}},[_c('v-card',{staticClass:\"card\",attrs:{\"tile\":\"\",\"flat\":\"\",\"to\":(\"/watch/\" + (video._id))}},[_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"5\",\"lg\":\"4\"}},[_c('v-img',{staticClass:\"align-center\",attrs:{\"max-height\":\"200\",\"src\":(_vm.getUrl + \"/api/v1/uploads/thumbnail/\" + (video.thumbnail))}})],1),_c('v-col',{staticClass:\"hidden-sm-and-down\"},[_c('div',{staticClass:\"ml-4 \"},[_c('v-card-title',{staticClass:\"pl-2 pt-0 subtitle-1 font-weight-bold\"},[_vm._v(\" \"+_vm._s(video.title)+\" \")]),(video.userId)?_c('v-card-subtitle',{staticClass:\"pl-2 pb-0\"},[_vm._v(\" \"+_vm._s(video.userId.channelName)+\" \"),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(_vm._s(video.views)+\" views\"),_c('v-icon',[_vm._v(\"mdi-circle-small\")]),_vm._v(_vm._s(_vm.dateFormatter(video.createdAt))+\" \")],1):_vm._e(),_c('v-card-subtitle',{staticClass:\"pl-2 pt-0\"},[_vm._v(\" \"+_vm._s(_vm.truncateText(video.description, 200))+\" \")])],1)])],1)],1)],1)],1)}),(_vm.videos.length === 0 && !_vm.loading)?_c('v-col',{staticClass:\"text-center\"},[_c('p',[_vm._v(\"No trending videos yet\")])]):_vm._e(),_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"12\",\"md\":\"12\",\"lg\":\"12\"}},[_c('infinite-loading',{on:{\"infinite\":_vm.getVideos},scopedSlots:_vm._u([{key:\"error\",fn:function(ref){\nvar trigger = ref.trigger;\nreturn _c('div',{},[_c('v-alert',{attrs:{\"prominent\":\"\",\"type\":\"error\"}},[_c('v-row',{attrs:{\"align\":\"center\"}},[_c('v-col',{staticClass:\"grow\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"Error!\")]),_c('div',[_vm._v(\" Something went wrong, but don’t fret — let’s give it another shot. \")])]),_c('v-col',{staticClass:\"shrink\"},[_c('v-btn',{on:{\"click\":trigger}},[_vm._v(\"Take action\")])],1)],1)],1)],1)}}])},[_c('div',{attrs:{\"slot\":\"spinner\"},slot:\"spinner\"},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"red\"}})],1),_c('div',{attrs:{\"slot\":\"no-results\"},slot:\"no-results\"}),_c('span',{attrs:{\"slot\":\"no-more\"},slot:\"no-more\"})])],1)],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"trending\" class=\"pt-7 px-sm-10\">\n    <v-container fluid>\n      <v-row>\n        <v-col\n          cols=\"8\"\n          sm=\"7\"\n          md=\"10\"\n          lg=\"10\"\n          v-for=\"(video, i) in loading ? 12 : videos\"\n          :key=\"i\"\n          class=\"mx-lg-0 mx-md-0 mx-sm-auto mx-auto\"\n        >\n          <v-skeleton-loader\n            class=\"mx-auto\"\n            type=\"list-item-avatar-three-line\"\n            :loading=\"loading\"\n            tile\n            large\n          >\n            <v-card class=\"card\" tile flat :to=\"`/watch/${video._id}`\">\n              <v-row no-gutters>\n                <v-col class=\"mx-auto\" cols=\"12\" sm=\"8\" md=\"5\" lg=\"4\">\n                  <!-- <v-responsive max-height=\"100%\"> -->\n                  <v-img\n                    max-height=\"200\"\n                    class=\"align-center\"\n                    :src=\"`${getUrl}/api/v1/uploads/thumbnail/${video.thumbnail}`\"\n                  >\n                  </v-img>\n                  <!-- </v-responsive> -->\n                </v-col>\n                <v-col class=\"hidden-sm-and-down\">\n                  <div class=\"ml-4 \">\n                    <v-card-title class=\"pl-2 pt-0 subtitle-1 font-weight-bold\">\n                      {{ video.title }}\n                    </v-card-title>\n\n                    <v-card-subtitle class=\"pl-2 pb-0\" v-if=\"video.userId\">\n                      {{ video.userId.channelName }}\n                      <v-icon>mdi-circle-small</v-icon\n                      >{{ video.views }} views<v-icon>mdi-circle-small</v-icon\n                      >{{ dateFormatter(video.createdAt) }}\n                    </v-card-subtitle>\n                    <v-card-subtitle class=\"pl-2 pt-0\">\n                      {{ truncateText(video.description, 200) }}\n                    </v-card-subtitle>\n                  </div>\n                </v-col>\n              </v-row>\n            </v-card>\n          </v-skeleton-loader>\n        </v-col>\n        <v-col class=\"text-center\" v-if=\"videos.length === 0 && !loading\">\n          <p>No trending videos yet</p>\n        </v-col>\n        <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\">\n          <infinite-loading @infinite=\"getVideos\">\n            <div slot=\"spinner\">\n              <v-progress-circular\n                indeterminate\n                color=\"red\"\n              ></v-progress-circular>\n            </div>\n            <div slot=\"no-results\"></div>\n            <span slot=\"no-more\"></span>\n            <div slot=\"error\" slot-scope=\"{ trigger }\">\n              <v-alert prominent type=\"error\">\n                <v-row align=\"center\">\n                  <v-col class=\"grow\">\n                    <div class=\"title\">Error!</div>\n                    <div>\n                      Something went wrong, but don’t fret — let’s give it\n                      another shot.\n                    </div>\n                  </v-col>\n                  <v-col class=\"shrink\">\n                    <v-btn @click=\"trigger\">Take action</v-btn>\n                  </v-col>\n                </v-row>\n              </v-alert>\n            </div>\n          </infinite-loading>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport InfiniteLoading from 'vue-infinite-loading'\nimport moment from 'moment'\n\nimport { mapGetters } from 'vuex'\n\nimport VideoService from '@/services/VideoService'\n\nexport default {\n  name: 'Trending',\n  data: () => ({\n    loading: false,\n    loaded: false,\n    errored: false,\n    videos: [],\n    page: 1\n  }),\n  computed: {\n    ...mapGetters(['currentUser', 'getUrl', 'isAuthenticated'])\n  },\n  methods: {\n    async getVideos($state) {\n      if (!this.loaded) {\n        this.loading = true\n      }\n\n      const videos = await VideoService.getAll('public', {\n        page: this.page,\n        sort: '-views'\n      })\n        .catch((err) => {\n          console.log(err)\n          this.errored = true\n        })\n        .finally(() => {\n          this.loading = false\n        })\n\n      if (typeof videos === 'undefined') return\n\n      if (videos.data.data.length) {\n        this.page += 1\n        this.videos.push(...videos.data.data)\n        $state.loaded()\n        this.loaded = true\n      } else {\n        $state.complete()\n      }\n    },\n    truncateText(string = '', num) {\n      if (string.length <= num) {\n        return string\n      }\n      return string.slice(0, num)\n    },\n    dateFormatter(date) {\n      return moment(date).fromNow()\n    }\n  },\n  components: {\n    InfiniteLoading\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.v-skeleton-loader__list-item-avatar-three-line {\n  height: 250px;\n  .v-skeleton-loader__paragraph.v-skeleton-loader__bone {\n    margin-top: -125px;\n    @media (max-width: 700px) {\n      display: none;\n      margin-top: inherit;\n    }\n  }\n  .v-skeleton-loader__avatar {\n    height: 200px !important;\n    width: 300px !important;\n  }\n  .v-skeleton-loader__text {\n    height: 20px;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trending.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Trending.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Trending.vue?vue&type=template&id=de16fc72&\"\nimport script from \"./Trending.vue?vue&type=script&lang=js&\"\nexport * from \"./Trending.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Trending.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardSubtitle } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardSubtitle,VCardTitle,VCol,VContainer,VIcon,VImg,VProgressCircular,VRow,VSkeletonLoader})\n"],"sourceRoot":""}